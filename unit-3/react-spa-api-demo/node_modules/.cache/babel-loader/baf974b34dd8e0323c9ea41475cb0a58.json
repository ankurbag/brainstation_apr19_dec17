{"ast":null,"code":"var _jsxFileName = \"/Users/ankurbag/Projects/BrainStation/brainstation_apr19_dec17/unit-3/react-spa-api-demo/src/components/TeaPage/TeaPage.js\";\nimport { Component } from 'react';\nimport Tea from '../Tea';\nimport TeaList from '../TeaList';\nimport axios from 'axios';\nimport './TeaPage.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass TeaPage extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      tea: null,\n      teas: []\n    };\n  }\n\n  componentDidMount() {\n    axios.get(`https://tea-api-vic-lo.herokuapp.com/tea`).then(response => {\n      // update state with data from api\n      this.setState({\n        teas: response.data\n      });\n    }).catch(error => console.log(error));\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    // if react router id param exists\n    if (this.props.match.params.id) {\n      // find tea in array\n      const tea = this.state.teas.find(tea => {\n        return tea._id === this.props.match.params.id;\n      }); // if previous state tea is not null\n\n      if (prevState.tea === null) {\n        this.setState({\n          tea\n        });\n      } // prevent infinite loop by checking that previous state tea is not tea._id\n      else if (prevState.tea._id !== tea._id) {\n        this.setState({\n          tea\n        });\n      }\n    } // else set tea back to null\n    else if (prevState.tea !== null) {\n      this.setState({\n        tea: null\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"TeaPage\",\n      children: [this.state.tea && /*#__PURE__*/_jsxDEV(Tea, {\n        name: this.state.tea.name,\n        image: this.state.tea.image,\n        description: this.state.tea.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(TeaList, {\n        teas: this.state.teas\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default TeaPage;","map":{"version":3,"names":["Component","Tea","TeaList","axios","TeaPage","state","tea","teas","componentDidMount","get","then","response","setState","data","catch","error","console","log","componentDidUpdate","prevProps","prevState","props","match","params","id","find","_id","render","name","image","description"],"sources":["/Users/ankurbag/Projects/BrainStation/brainstation_apr19_dec17/unit-3/react-spa-api-demo/src/components/TeaPage/TeaPage.js"],"sourcesContent":["import { Component } from 'react';\nimport Tea from '../Tea';\nimport TeaList from '../TeaList';\nimport axios from 'axios';\nimport './TeaPage.scss';\n\nclass TeaPage extends Component {\n  state = {\n    tea: null,\n    teas: [],\n  };\n\n  componentDidMount() {\n    axios\n      .get(`https://tea-api-vic-lo.herokuapp.com/tea`)\n      .then((response) => {\n        // update state with data from api\n        this.setState({\n          teas: response.data,\n        });\n      })\n      .catch((error) => console.log(error));\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    // if react router id param exists\n    if (this.props.match.params.id) {\n      // find tea in array\n      const tea = this.state.teas.find((tea) => {\n        return tea._id === this.props.match.params.id;\n      });\n      // if previous state tea is not null\n      if (prevState.tea === null) {\n        this.setState({\n          tea,\n        });\n      }\n      // prevent infinite loop by checking that previous state tea is not tea._id\n      else if (prevState.tea._id !== tea._id) {\n        this.setState({\n          tea,\n        });\n      }\n    }\n    // else set tea back to null\n    else if (prevState.tea !== null) {\n      this.setState({\n        tea: null,\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"TeaPage\">\n        {this.state.tea && (\n          <Tea\n            name={this.state.tea.name}\n            image={this.state.tea.image}\n            description={this.state.tea.description}\n          />\n        )}\n        <TeaList teas={this.state.teas} />\n      </div>\n    );\n  }\n}\n\nexport default TeaPage;\n"],"mappings":";AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,OAAOC,GAAP,MAAgB,QAAhB;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,gBAAP;;;AAEA,MAAMC,OAAN,SAAsBJ,SAAtB,CAAgC;EAAA;IAAA;IAAA,KAC9BK,KAD8B,GACtB;MACNC,GAAG,EAAE,IADC;MAENC,IAAI,EAAE;IAFA,CADsB;EAAA;;EAM9BC,iBAAiB,GAAG;IAClBL,KAAK,CACFM,GADH,CACQ,0CADR,EAEGC,IAFH,CAESC,QAAD,IAAc;MAClB;MACA,KAAKC,QAAL,CAAc;QACZL,IAAI,EAAEI,QAAQ,CAACE;MADH,CAAd;IAGD,CAPH,EAQGC,KARH,CAQUC,KAAD,IAAWC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CARpB;EASD;;EAEDG,kBAAkB,CAACC,SAAD,EAAYC,SAAZ,EAAuB;IACvC;IACA,IAAI,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,EAA5B,EAAgC;MAC9B;MACA,MAAMlB,GAAG,GAAG,KAAKD,KAAL,CAAWE,IAAX,CAAgBkB,IAAhB,CAAsBnB,GAAD,IAAS;QACxC,OAAOA,GAAG,CAACoB,GAAJ,KAAY,KAAKL,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,EAA3C;MACD,CAFW,CAAZ,CAF8B,CAK9B;;MACA,IAAIJ,SAAS,CAACd,GAAV,KAAkB,IAAtB,EAA4B;QAC1B,KAAKM,QAAL,CAAc;UACZN;QADY,CAAd;MAGD,CAJD,CAKA;MALA,KAMK,IAAIc,SAAS,CAACd,GAAV,CAAcoB,GAAd,KAAsBpB,GAAG,CAACoB,GAA9B,EAAmC;QACtC,KAAKd,QAAL,CAAc;UACZN;QADY,CAAd;MAGD;IACF,CAjBD,CAkBA;IAlBA,KAmBK,IAAIc,SAAS,CAACd,GAAV,KAAkB,IAAtB,EAA4B;MAC/B,KAAKM,QAAL,CAAc;QACZN,GAAG,EAAE;MADO,CAAd;IAGD;EACF;;EAEDqB,MAAM,GAAG;IACP,oBACE;MAAK,SAAS,EAAC,SAAf;MAAA,WACG,KAAKtB,KAAL,CAAWC,GAAX,iBACC,QAAC,GAAD;QACE,IAAI,EAAE,KAAKD,KAAL,CAAWC,GAAX,CAAesB,IADvB;QAEE,KAAK,EAAE,KAAKvB,KAAL,CAAWC,GAAX,CAAeuB,KAFxB;QAGE,WAAW,EAAE,KAAKxB,KAAL,CAAWC,GAAX,CAAewB;MAH9B;QAAA;QAAA;QAAA;MAAA,QAFJ,eAQE,QAAC,OAAD;QAAS,IAAI,EAAE,KAAKzB,KAAL,CAAWE;MAA1B;QAAA;QAAA;QAAA;MAAA,QARF;IAAA;MAAA;MAAA;MAAA;IAAA,QADF;EAYD;;AA3D6B;;AA8DhC,eAAeH,OAAf"},"metadata":{},"sourceType":"module"}