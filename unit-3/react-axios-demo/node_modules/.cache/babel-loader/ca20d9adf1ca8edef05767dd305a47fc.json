{"ast":null,"code":"var _jsxFileName = \"/Users/ankurbag/Projects/BrainStation/brainstation_apr19_dec17/unit-3/react-axios-demo/src/components/SingleRecipe.js\";\nimport axios from \"axios\";\nimport { Component } from \"react\";\nimport { API_URL } from \"../util\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass SingleRecipe extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      recipeData: null\n    };\n  }\n\n  componentDidMount() {\n    const {\n      recipeId\n    } = this.props.match.params;\n    axios.get(`${API_URL}/lookup.php?i=${recipeId}`).then(response => {\n      this.setState({\n        recipeData: response.data.meals[0]\n      });\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      recipeId\n    } = this.props.match.params;\n\n    if (prevProps.match.params.recipeId !== recipeId) {\n      axios.get(`${API_URL}/lookup.php?i=${recipeId}`).then(response => {\n        this.setState({\n          recipeData: response.data.meals[0]\n        });\n      });\n    }\n  }\n\n  render() {\n    if (this.state.recipeData === null) {\n      return /*#__PURE__*/_jsxDEV(\"main\", {\n        children: \"Loading recipe...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 20\n      }, this);\n    }\n\n    const {\n      strMeal,\n      strMealThumb,\n      strInstructions\n    } = this.state.recipeData;\n    return /*#__PURE__*/_jsxDEV(\"main\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: strMeal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: strMealThumb,\n        alt: strMeal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Instructions\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: strInstructions\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        children: \"Back to home\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default SingleRecipe;","map":{"version":3,"sources":["/Users/ankurbag/Projects/BrainStation/brainstation_apr19_dec17/unit-3/react-axios-demo/src/components/SingleRecipe.js"],"names":["axios","Component","API_URL","Link","SingleRecipe","state","recipeData","componentDidMount","recipeId","props","match","params","get","then","response","setState","data","meals","componentDidUpdate","prevProps","render","strMeal","strMealThumb","strInstructions"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,SAASC,OAAT,QAAwB,SAAxB;AACA,SAASC,IAAT,QAAqB,kBAArB;;;AAEA,MAAMC,YAAN,SAA2BH,SAA3B,CAAqC;AAAA;AAAA;AAAA,SACjCI,KADiC,GACzB;AACJC,MAAAA,UAAU,EAAE;AADR,KADyB;AAAA;;AAKjCC,EAAAA,iBAAiB,GAAG;AAChB,UAAM;AAAEC,MAAAA;AAAF,QAAe,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAtC;AAEAX,IAAAA,KAAK,CAACY,GAAN,CAAW,GAAEV,OAAQ,iBAAgBM,QAAS,EAA9C,EAAiDK,IAAjD,CAAuDC,QAAD,IAAc;AAChE,WAAKC,QAAL,CAAc;AACVT,QAAAA,UAAU,EAAEQ,QAAQ,CAACE,IAAT,CAAcC,KAAd,CAAoB,CAApB;AADF,OAAd;AAGH,KAJD;AAKH;;AAEDC,EAAAA,kBAAkB,CAACC,SAAD,EAAY;AAC1B,UAAM;AAAEX,MAAAA;AAAF,QAAe,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAtC;;AAEA,QAAIQ,SAAS,CAACT,KAAV,CAAgBC,MAAhB,CAAuBH,QAAvB,KAAoCA,QAAxC,EAAkD;AAC9CR,MAAAA,KAAK,CAACY,GAAN,CAAW,GAAEV,OAAQ,iBAAgBM,QAAS,EAA9C,EAAiDK,IAAjD,CAAuDC,QAAD,IAAc;AAChE,aAAKC,QAAL,CAAc;AACVT,UAAAA,UAAU,EAAEQ,QAAQ,CAACE,IAAT,CAAcC,KAAd,CAAoB,CAApB;AADF,SAAd;AAGH,OAJD;AAKH;AACJ;;AAEDG,EAAAA,MAAM,GAAG;AACL,QAAI,KAAKf,KAAL,CAAWC,UAAX,KAA0B,IAA9B,EAAoC;AAChC,0BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;AACH;;AAED,UAAM;AAAEe,MAAAA,OAAF;AAAWC,MAAAA,YAAX;AAAyBC,MAAAA;AAAzB,QAA6C,KAAKlB,KAAL,CAAWC,UAA9D;AAEA,wBACI;AAAA,8BACI;AAAA,kBAAKe;AAAL;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAK,QAAA,GAAG,EAAEC,YAAV;AAAwB,QAAA,GAAG,EAAED;AAA7B;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ,eAII;AAAA,kBAAIE;AAAJ;AAAA;AAAA;AAAA;AAAA,cAJJ,eAKI,QAAC,IAAD;AAAM,QAAA,EAAE,EAAC,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cALJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AASH;;AA3CgC;;AA8CrC,eAAenB,YAAf","sourcesContent":["import axios from \"axios\";\nimport { Component } from \"react\";\nimport { API_URL } from \"../util\";\nimport { Link } from \"react-router-dom\";\n\nclass SingleRecipe extends Component {\n    state = {\n        recipeData: null,\n    };\n\n    componentDidMount() {\n        const { recipeId } = this.props.match.params;\n\n        axios.get(`${API_URL}/lookup.php?i=${recipeId}`).then((response) => {\n            this.setState({\n                recipeData: response.data.meals[0],\n            });\n        });\n    }\n\n    componentDidUpdate(prevProps) {\n        const { recipeId } = this.props.match.params;\n\n        if (prevProps.match.params.recipeId !== recipeId) {\n            axios.get(`${API_URL}/lookup.php?i=${recipeId}`).then((response) => {\n                this.setState({\n                    recipeData: response.data.meals[0],\n                });\n            });\n        }\n    }\n\n    render() {\n        if (this.state.recipeData === null) {\n            return <main>Loading recipe...</main>;\n        }\n\n        const { strMeal, strMealThumb, strInstructions } = this.state.recipeData;\n\n        return (\n            <main>\n                <h1>{strMeal}</h1>\n                <img src={strMealThumb} alt={strMeal} />\n                <h2>Instructions</h2>\n                <p>{strInstructions}</p>\n                <Link to=\"/\">Back to home</Link>\n            </main>\n        );\n    }\n}\n\nexport default SingleRecipe;\n"]},"metadata":{},"sourceType":"module"}